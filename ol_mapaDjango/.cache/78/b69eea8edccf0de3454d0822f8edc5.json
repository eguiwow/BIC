{"id":"KkPv","dependencies":[{"name":"/home/eguiwow/ol_mapaDjango/node_modules/ol/webgl/RenderTarget.js.map","includedInParent":true,"mtime":499162500000},{"name":"/home/eguiwow/ol_mapaDjango/node_modules/ol/src/webgl/RenderTarget.js","includedInParent":true,"mtime":499162500000},{"name":"/home/eguiwow/ol_mapaDjango/package.json","includedInParent":true,"mtime":1612264075530},{"name":"/home/eguiwow/ol_mapaDjango/node_modules/ol/package.json","includedInParent":true,"mtime":1612263850927},{"name":"../array.js","loc":{"line":5,"column":23},"parent":"/home/eguiwow/ol_mapaDjango/node_modules/ol/webgl/RenderTarget.js","resolved":"/home/eguiwow/ol_mapaDjango/node_modules/ol/array.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=require(\"../array.js\"),e=new Uint8Array(4),r=function(){function r(t,e){this.helper_=t;var r=t.getGL();this.texture_=r.createTexture(),this.framebuffer_=r.createFramebuffer(),this.size_=e||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return r.prototype.setSize=function(e){(0,t.equals)(e,this.size_)||(this.size_[0]=e[0],this.size_[1]=e[1],this.updateSize_())},r.prototype.getSize=function(){return this.size_},r.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},r.prototype.readAll=function(){if(this.dataCacheDirty_){var t=this.size_,e=this.helper_.getGL();e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.readPixels(0,0,t[0],t[1],e.RGBA,e.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_},r.prototype.readPixel=function(t,r){if(t<0||r<0||t>this.size_[0]||r>=this.size_[1])return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e;this.readAll();var i=Math.floor(t)+(this.size_[1]-Math.floor(r)-1)*this.size_[0];return e[0]=this.data_[4*i],e[1]=this.data_[4*i+1],e[2]=this.data_[4*i+2],e[3]=this.data_[4*i+3],e},r.prototype.getTexture=function(){return this.texture_},r.prototype.getFramebuffer=function(){return this.framebuffer_},r.prototype.updateSize_=function(){var t=this.size_,e=this.helper_.getGL();this.texture_=this.helper_.createTexture(t,null,this.texture_),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.viewport(0,0,t[0],t[1]),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(t[0]*t[1]*4)},r}(),i=r;exports.default=i;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":187,"column":15},"generated":{"line":1,"column":0}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":187,"column":15},"generated":{"line":1,"column":13}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":187,"column":15},"generated":{"line":1,"column":20}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":187,"column":15},"generated":{"line":1,"column":35}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":187,"column":15},"generated":{"line":1,"column":43}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":187,"column":15},"generated":{"line":1,"column":56}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":187,"column":15},"generated":{"line":1,"column":57}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":187,"column":15},"generated":{"line":1,"column":64}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":187,"column":15},"generated":{"line":1,"column":68}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":187,"column":15},"generated":{"line":1,"column":76}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":187,"column":15},"generated":{"line":1,"column":89}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":91}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":95}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":97}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":105}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":8,"column":6},"generated":{"line":1,"column":120}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":8,"column":18},"generated":{"line":1,"column":122}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":8,"column":22},"generated":{"line":1,"column":126}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":8,"column":33},"generated":{"line":1,"column":137}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":140}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":142}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":153}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":162}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":21,"column":14},"generated":{"line":1,"column":164}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":21,"column":22},"generated":{"line":1,"column":166}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":26,"column":9},"generated":{"line":1,"column":169}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":26,"column":9},"generated":{"line":1,"column":174}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":26,"column":19},"generated":{"line":1,"column":182}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":27,"column":10},"generated":{"line":1,"column":184}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":27,"column":10},"generated":{"line":1,"column":188}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":27,"column":15},"generated":{"line":1,"column":190}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":27,"column":22},"generated":{"line":1,"column":192}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":33,"column":9},"generated":{"line":1,"column":200}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":33,"column":9},"generated":{"line":1,"column":205}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":33,"column":20},"generated":{"line":1,"column":214}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":33,"column":23},"generated":{"line":1,"column":216}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":39,"column":9},"generated":{"line":1,"column":232}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":39,"column":9},"generated":{"line":1,"column":237}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":39,"column":24},"generated":{"line":1,"column":250}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":39,"column":27},"generated":{"line":1,"column":252}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":45,"column":9},"generated":{"line":1,"column":272}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":45,"column":9},"generated":{"line":1,"column":277}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":45,"column":17},"generated":{"line":1,"column":283}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":45,"column":29},"generated":{"line":1,"column":286}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":45,"column":30},"generated":{"line":1,"column":287}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":45,"column":33},"generated":{"line":1,"column":289}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":51,"column":9},"generated":{"line":1,"column":292}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":51,"column":9},"generated":{"line":1,"column":297}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":51,"column":17},"generated":{"line":1,"column":303}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":51,"column":21},"generated":{"line":1,"column":307}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":51,"column":32},"generated":{"line":1,"column":318}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":57,"column":9},"generated":{"line":1,"column":321}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":57,"column":9},"generated":{"line":1,"column":326}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":57,"column":27},"generated":{"line":1,"column":343}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":59,"column":9},"generated":{"line":1,"column":345}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":59,"column":9},"generated":{"line":1,"column":350}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":185,"column":0},"generated":{"line":1,"column":364}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":68,"column":2},"generated":{"line":1,"column":371}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":68,"column":2},"generated":{"line":1,"column":373}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":68,"column":2},"generated":{"line":1,"column":383}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":68,"column":2},"generated":{"line":1,"column":391}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":68,"column":10},"generated":{"line":1,"column":400}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":69,"column":8},"generated":{"line":1,"column":404}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":69,"column":15},"generated":{"line":1,"column":406}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":69,"column":15},"generated":{"line":1,"column":408}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":69,"column":15},"generated":{"line":1,"column":416}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":69,"column":21},"generated":{"line":1,"column":418}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":69,"column":26},"generated":{"line":1,"column":423}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":72,"column":9},"generated":{"line":1,"column":432}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":72,"column":9},"generated":{"line":1,"column":437}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":72,"column":15},"generated":{"line":1,"column":443}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":72,"column":20},"generated":{"line":1,"column":446}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":72,"column":25},"generated":{"line":1,"column":448}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":73,"column":9},"generated":{"line":1,"column":451}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":73,"column":9},"generated":{"line":1,"column":456}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":73,"column":15},"generated":{"line":1,"column":462}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":73,"column":20},"generated":{"line":1,"column":465}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":73,"column":25},"generated":{"line":1,"column":467}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":74,"column":9},"generated":{"line":1,"column":470}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":74,"column":9},"generated":{"line":1,"column":475}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":82,"column":2},"generated":{"line":1,"column":491}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":82,"column":2},"generated":{"line":1,"column":493}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":82,"column":2},"generated":{"line":1,"column":503}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":82,"column":2},"generated":{"line":1,"column":511}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":83,"column":11},"generated":{"line":1,"column":522}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":83,"column":11},"generated":{"line":1,"column":529}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":83,"column":16},"generated":{"line":1,"column":534}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":541}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":543}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":553}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":569}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":93,"column":9},"generated":{"line":1,"column":580}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":93,"column":9},"generated":{"line":1,"column":585}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":93,"column":27},"generated":{"line":1,"column":602}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":102,"column":2},"generated":{"line":1,"column":605}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":102,"column":2},"generated":{"line":1,"column":607}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":102,"column":2},"generated":{"line":1,"column":617}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":102,"column":2},"generated":{"line":1,"column":625}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":103,"column":8},"generated":{"line":1,"column":636}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":103,"column":8},"generated":{"line":1,"column":639}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":103,"column":13},"generated":{"line":1,"column":644}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":103,"column":30},"generated":{"line":1,"column":660}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":104,"column":12},"generated":{"line":1,"column":661}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":104,"column":12},"generated":{"line":1,"column":665}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":104,"column":19},"generated":{"line":1,"column":667}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":104,"column":24},"generated":{"line":1,"column":672}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":105,"column":12},"generated":{"line":1,"column":678}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":105,"column":17},"generated":{"line":1,"column":680}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":105,"column":22},"generated":{"line":1,"column":685}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":105,"column":30},"generated":{"line":1,"column":693}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":107,"column":6},"generated":{"line":1,"column":701}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":107,"column":9},"generated":{"line":1,"column":703}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":107,"column":25},"generated":{"line":1,"column":719}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":107,"column":28},"generated":{"line":1,"column":721}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":107,"column":41},"generated":{"line":1,"column":733}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":107,"column":46},"generated":{"line":1,"column":738}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":108,"column":6},"generated":{"line":1,"column":752}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":108,"column":9},"generated":{"line":1,"column":754}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":109,"column":8},"generated":{"line":1,"column":765}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":110,"column":8},"generated":{"line":1,"column":767}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":111,"column":8},"generated":{"line":1,"column":769}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":111,"column":13},"generated":{"line":1,"column":771}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":112,"column":8},"generated":{"line":1,"column":774}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":112,"column":13},"generated":{"line":1,"column":776}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":113,"column":8},"generated":{"line":1,"column":779}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":113,"column":11},"generated":{"line":1,"column":781}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":114,"column":8},"generated":{"line":1,"column":786}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":114,"column":11},"generated":{"line":1,"column":788}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":115,"column":8},"generated":{"line":1,"column":802}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":115,"column":13},"generated":{"line":1,"column":807}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":117,"column":11},"generated":{"line":1,"column":814}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":117,"column":11},"generated":{"line":1,"column":819}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":117,"column":29},"generated":{"line":1,"column":836}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":119,"column":11},"generated":{"line":1,"column":838}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":119,"column":11},"generated":{"line":1,"column":845}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":119,"column":16},"generated":{"line":1,"column":850}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":131,"column":2},"generated":{"line":1,"column":857}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":131,"column":2},"generated":{"line":1,"column":859}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":131,"column":2},"generated":{"line":1,"column":869}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":131,"column":2},"generated":{"line":1,"column":879}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":131,"column":12},"generated":{"line":1,"column":888}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":131,"column":15},"generated":{"line":1,"column":890}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":132,"column":8},"generated":{"line":1,"column":893}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":132,"column":8},"generated":{"line":1,"column":896}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":132,"column":12},"generated":{"line":1,"column":898}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":132,"column":17},"generated":{"line":1,"column":901}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":132,"column":21},"generated":{"line":1,"column":903}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":132,"column":26},"generated":{"line":1,"column":906}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":132,"column":30},"generated":{"line":1,"column":908}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":132,"column":35},"generated":{"line":1,"column":913}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":132,"column":41},"generated":{"line":1,"column":919}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":132,"column":47},"generated":{"line":1,"column":923}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":132,"column":52},"generated":{"line":1,"column":926}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":132,"column":57},"generated":{"line":1,"column":931}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":132,"column":63},"generated":{"line":1,"column":937}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":137,"column":13},"generated":{"line":1,"column":940}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":133,"column":6},"generated":{"line":1,"column":947}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":133,"column":16},"generated":{"line":1,"column":949}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":133,"column":21},"generated":{"line":1,"column":952}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":134,"column":6},"generated":{"line":1,"column":954}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":134,"column":16},"generated":{"line":1,"column":956}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":134,"column":21},"generated":{"line":1,"column":959}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":135,"column":6},"generated":{"line":1,"column":961}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":135,"column":16},"generated":{"line":1,"column":963}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":135,"column":21},"generated":{"line":1,"column":966}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":136,"column":6},"generated":{"line":1,"column":968}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":136,"column":16},"generated":{"line":1,"column":970}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":136,"column":21},"generated":{"line":1,"column":973}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":137,"column":13},"generated":{"line":1,"column":975}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":140,"column":9},"generated":{"line":1,"column":977}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":140,"column":9},"generated":{"line":1,"column":982}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":141,"column":10},"generated":{"line":1,"column":992}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":141,"column":10},"generated":{"line":1,"column":996}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":142,"column":6},"generated":{"line":1,"column":998}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":142,"column":11},"generated":{"line":1,"column":1003}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":142,"column":17},"generated":{"line":1,"column":1009}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":142,"column":23},"generated":{"line":1,"column":1013}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":142,"column":28},"generated":{"line":1,"column":1018}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":142,"column":34},"generated":{"line":1,"column":1024}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":142,"column":39},"generated":{"line":1,"column":1027}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":142,"column":44},"generated":{"line":1,"column":1032}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":142,"column":50},"generated":{"line":1,"column":1038}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":142,"column":55},"generated":{"line":1,"column":1041}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":142,"column":60},"generated":{"line":1,"column":1044}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":142,"column":65},"generated":{"line":1,"column":1049}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":142,"column":71},"generated":{"line":1,"column":1055}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":147,"column":11},"generated":{"line":1,"column":1058}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":143,"column":4},"generated":{"line":1,"column":1065}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":143,"column":14},"generated":{"line":1,"column":1067}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":143,"column":19},"generated":{"line":1,"column":1070}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":143,"column":24},"generated":{"line":1,"column":1075}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":143,"column":38},"generated":{"line":1,"column":1081}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":143,"column":30},"generated":{"line":1,"column":1083}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":144,"column":4},"generated":{"line":1,"column":1086}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":144,"column":14},"generated":{"line":1,"column":1088}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":144,"column":19},"generated":{"line":1,"column":1091}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":144,"column":24},"generated":{"line":1,"column":1096}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":144,"column":38},"generated":{"line":1,"column":1102}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":144,"column":30},"generated":{"line":1,"column":1104}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":144,"column":42},"generated":{"line":1,"column":1106}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":145,"column":4},"generated":{"line":1,"column":1109}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":145,"column":14},"generated":{"line":1,"column":1111}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":145,"column":19},"generated":{"line":1,"column":1114}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":145,"column":24},"generated":{"line":1,"column":1119}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":145,"column":38},"generated":{"line":1,"column":1125}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":145,"column":30},"generated":{"line":1,"column":1127}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":145,"column":42},"generated":{"line":1,"column":1129}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":146,"column":4},"generated":{"line":1,"column":1132}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":146,"column":14},"generated":{"line":1,"column":1134}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":146,"column":19},"generated":{"line":1,"column":1137}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":146,"column":24},"generated":{"line":1,"column":1142}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":146,"column":38},"generated":{"line":1,"column":1148}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":146,"column":30},"generated":{"line":1,"column":1150}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":146,"column":42},"generated":{"line":1,"column":1152}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":147,"column":11},"generated":{"line":1,"column":1155}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":153,"column":2},"generated":{"line":1,"column":1158}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":153,"column":2},"generated":{"line":1,"column":1160}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":153,"column":2},"generated":{"line":1,"column":1170}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":153,"column":2},"generated":{"line":1,"column":1181}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":154,"column":11},"generated":{"line":1,"column":1192}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":154,"column":11},"generated":{"line":1,"column":1199}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":154,"column":16},"generated":{"line":1,"column":1204}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":160,"column":2},"generated":{"line":1,"column":1214}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":160,"column":2},"generated":{"line":1,"column":1216}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":160,"column":2},"generated":{"line":1,"column":1226}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":160,"column":2},"generated":{"line":1,"column":1241}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":161,"column":11},"generated":{"line":1,"column":1252}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":161,"column":11},"generated":{"line":1,"column":1259}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":161,"column":16},"generated":{"line":1,"column":1264}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":167,"column":2},"generated":{"line":1,"column":1278}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":167,"column":2},"generated":{"line":1,"column":1280}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":167,"column":2},"generated":{"line":1,"column":1290}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":167,"column":2},"generated":{"line":1,"column":1302}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":168,"column":10},"generated":{"line":1,"column":1313}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":168,"column":10},"generated":{"line":1,"column":1317}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":168,"column":17},"generated":{"line":1,"column":1319}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":168,"column":22},"generated":{"line":1,"column":1324}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":169,"column":10},"generated":{"line":1,"column":1330}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":169,"column":15},"generated":{"line":1,"column":1332}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":169,"column":20},"generated":{"line":1,"column":1337}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":169,"column":28},"generated":{"line":1,"column":1345}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":171,"column":9},"generated":{"line":1,"column":1353}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":171,"column":9},"generated":{"line":1,"column":1358}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":171,"column":20},"generated":{"line":1,"column":1367}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":171,"column":25},"generated":{"line":1,"column":1372}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":171,"column":33},"generated":{"line":1,"column":1380}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":171,"column":47},"generated":{"line":1,"column":1394}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":171,"column":53},"generated":{"line":1,"column":1396}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":171,"column":59},"generated":{"line":1,"column":1401}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":171,"column":64},"generated":{"line":1,"column":1406}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":173,"column":4},"generated":{"line":1,"column":1416}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":173,"column":7},"generated":{"line":1,"column":1418}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":173,"column":23},"generated":{"line":1,"column":1434}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":173,"column":26},"generated":{"line":1,"column":1436}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":173,"column":39},"generated":{"line":1,"column":1448}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":173,"column":44},"generated":{"line":1,"column":1453}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":174,"column":4},"generated":{"line":1,"column":1467}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":174,"column":7},"generated":{"line":1,"column":1469}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":174,"column":16},"generated":{"line":1,"column":1478}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":174,"column":19},"generated":{"line":1,"column":1480}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":174,"column":22},"generated":{"line":1,"column":1482}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":174,"column":27},"generated":{"line":1,"column":1484}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":174,"column":31},"generated":{"line":1,"column":1487}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":174,"column":36},"generated":{"line":1,"column":1489}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":175,"column":4},"generated":{"line":1,"column":1493}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":175,"column":7},"generated":{"line":1,"column":1495}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":176,"column":6},"generated":{"line":1,"column":1516}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":176,"column":9},"generated":{"line":1,"column":1518}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":177,"column":6},"generated":{"line":1,"column":1530}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":177,"column":9},"generated":{"line":1,"column":1532}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":178,"column":6},"generated":{"line":1,"column":1550}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":178,"column":9},"generated":{"line":1,"column":1552}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":179,"column":6},"generated":{"line":1,"column":1563}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":179,"column":11},"generated":{"line":1,"column":1568}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":180,"column":6},"generated":{"line":1,"column":1577}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":183,"column":9},"generated":{"line":1,"column":1580}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":183,"column":9},"generated":{"line":1,"column":1585}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":183,"column":17},"generated":{"line":1,"column":1591}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":183,"column":21},"generated":{"line":1,"column":1595}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":183,"column":32},"generated":{"line":1,"column":1606}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":183,"column":37},"generated":{"line":1,"column":1608}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":183,"column":42},"generated":{"line":1,"column":1611}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":183,"column":47},"generated":{"line":1,"column":1613}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":183,"column":52},"generated":{"line":1,"column":1616}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":185,"column":0},"generated":{"line":1,"column":1620}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":1622}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":187,"column":15},"generated":{"line":1,"column":1625}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":187,"column":15},"generated":{"line":1,"column":1627}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":187,"column":15},"generated":{"line":1,"column":1629}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":187,"column":15},"generated":{"line":1,"column":1637}},{"source":"../src/webgl/RenderTarget.js","name":null,"original":{"line":187,"column":15},"generated":{"line":1,"column":1645}}],"sources":{"../src/webgl/RenderTarget.js":"/**\n * A wrapper class to simplify rendering to a texture instead of the final canvas\n * @module ol/webgl/RenderTarget\n */\nimport {equals} from '../array.js';\n\n// for pixel color reading\nconst tmpArray4 = new Uint8Array(4);\n\n/**\n * @classdesc\n * This class is a wrapper around the association of both a `WebGLTexture` and a `WebGLFramebuffer` instances,\n * simplifying initialization and binding for rendering.\n * @api\n */\nclass WebGLRenderTarget {\n  /**\n   * @param {import(\"./Helper.js\").default} helper WebGL helper; mandatory.\n   * @param {Array<number>} [opt_size] Expected size of the render target texture; note: this can be changed later on.\n   */\n  constructor(helper, opt_size) {\n    /**\n     * @private\n     * @type {import(\"./Helper.js\").default}\n     */\n    this.helper_ = helper;\n    const gl = helper.getGL();\n\n    /**\n     * @private\n     * @type {WebGLTexture}\n     */\n    this.texture_ = gl.createTexture();\n\n    /**\n     * @private\n     * @type {WebGLFramebuffer}\n     */\n    this.framebuffer_ = gl.createFramebuffer();\n\n    /**\n     * @type {Array<number>}\n     * @private\n     */\n    this.size_ = opt_size || [1, 1];\n\n    /**\n     * @type {Uint8Array}\n     * @private\n     */\n    this.data_ = new Uint8Array(0);\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this.dataCacheDirty_ = true;\n\n    this.updateSize_();\n  }\n\n  /**\n   * Changes the size of the render target texture. Note: will do nothing if the size\n   * is already the same.\n   * @param {Array<number>} size Expected size of the render target texture\n   * @api\n   */\n  setSize(size) {\n    if (equals(size, this.size_)) {\n      return;\n    }\n    this.size_[0] = size[0];\n    this.size_[1] = size[1];\n    this.updateSize_();\n  }\n\n  /**\n   * Returns the size of the render target texture\n   * @return {Array<number>} Size of the render target texture\n   * @api\n   */\n  getSize() {\n    return this.size_;\n  }\n\n  /**\n   * This will cause following calls to `#readAll` or `#readPixel` to download the content of the\n   * render target into memory, which is an expensive operation.\n   * This content will be kept in cache but should be cleared after each new render.\n   * @api\n   */\n  clearCachedData() {\n    this.dataCacheDirty_ = true;\n  }\n\n  /**\n   * Returns the full content of the frame buffer as a series of r, g, b, a components\n   * in the 0-255 range (unsigned byte).\n   * @return {Uint8Array} Integer array of color values\n   * @api\n   */\n  readAll() {\n    if (this.dataCacheDirty_) {\n      const size = this.size_;\n      const gl = this.helper_.getGL();\n\n      gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer_);\n      gl.readPixels(\n        0,\n        0,\n        size[0],\n        size[1],\n        gl.RGBA,\n        gl.UNSIGNED_BYTE,\n        this.data_\n      );\n      this.dataCacheDirty_ = false;\n    }\n    return this.data_;\n  }\n\n  /**\n   * Reads one pixel of the frame buffer as an array of r, g, b, a components\n   * in the 0-255 range (unsigned byte).\n   * If x and/or y are outside of existing data, an array filled with 0 is returned.\n   * @param {number} x Pixel coordinate\n   * @param {number} y Pixel coordinate\n   * @returns {Uint8Array} Integer array with one color value (4 components)\n   * @api\n   */\n  readPixel(x, y) {\n    if (x < 0 || y < 0 || x > this.size_[0] || y >= this.size_[1]) {\n      tmpArray4[0] = 0;\n      tmpArray4[1] = 0;\n      tmpArray4[2] = 0;\n      tmpArray4[3] = 0;\n      return tmpArray4;\n    }\n\n    this.readAll();\n    const index =\n      Math.floor(x) + (this.size_[1] - Math.floor(y) - 1) * this.size_[0];\n    tmpArray4[0] = this.data_[index * 4];\n    tmpArray4[1] = this.data_[index * 4 + 1];\n    tmpArray4[2] = this.data_[index * 4 + 2];\n    tmpArray4[3] = this.data_[index * 4 + 3];\n    return tmpArray4;\n  }\n\n  /**\n   * @return {WebGLTexture} Texture to render to\n   */\n  getTexture() {\n    return this.texture_;\n  }\n\n  /**\n   * @return {WebGLFramebuffer} Frame buffer of the render target\n   */\n  getFramebuffer() {\n    return this.framebuffer_;\n  }\n\n  /**\n   * @private\n   */\n  updateSize_() {\n    const size = this.size_;\n    const gl = this.helper_.getGL();\n\n    this.texture_ = this.helper_.createTexture(size, null, this.texture_);\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer_);\n    gl.viewport(0, 0, size[0], size[1]);\n    gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      this.texture_,\n      0\n    );\n\n    this.data_ = new Uint8Array(size[0] * size[1] * 4);\n  }\n}\n\nexport default WebGLRenderTarget;\n"},"lineCount":null}},"error":null,"hash":"8784369cb5df52b38aaf0f3c678136c1","cacheData":{"env":{}}}