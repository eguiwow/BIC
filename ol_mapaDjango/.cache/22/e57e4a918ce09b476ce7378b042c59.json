{"id":"H4OG","dependencies":[{"name":"/home/eguiwow/BIC/ol_mapaDjango/package.json","includedInParent":true,"mtime":1612429658416},{"name":"ol/ol.css","loc":{"line":1,"column":7},"parent":"/home/eguiwow/BIC/ol_mapaDjango/map_dev.js","resolved":"/home/eguiwow/BIC/ol_mapaDjango/node_modules/ol/ol.css"},{"name":"ol/proj","loc":{"line":2,"column":51},"parent":"/home/eguiwow/BIC/ol_mapaDjango/map_dev.js","resolved":"/home/eguiwow/BIC/ol_mapaDjango/node_modules/ol/proj.js"},{"name":"ol/format/KML","loc":{"line":3,"column":16},"parent":"/home/eguiwow/BIC/ol_mapaDjango/map_dev.js","resolved":"/home/eguiwow/BIC/ol_mapaDjango/node_modules/ol/format/KML.js"},{"name":"ol/format/GPX","loc":{"line":4,"column":16},"parent":"/home/eguiwow/BIC/ol_mapaDjango/map_dev.js","resolved":"/home/eguiwow/BIC/ol_mapaDjango/node_modules/ol/format/GPX.js"},{"name":"ol/Map","loc":{"line":5,"column":16},"parent":"/home/eguiwow/BIC/ol_mapaDjango/map_dev.js","resolved":"/home/eguiwow/BIC/ol_mapaDjango/node_modules/ol/Map.js"},{"name":"ol/source/Vector","loc":{"line":6,"column":25},"parent":"/home/eguiwow/BIC/ol_mapaDjango/map_dev.js","resolved":"/home/eguiwow/BIC/ol_mapaDjango/node_modules/ol/source/Vector.js"},{"name":"ol/View","loc":{"line":7,"column":17},"parent":"/home/eguiwow/BIC/ol_mapaDjango/map_dev.js","resolved":"/home/eguiwow/BIC/ol_mapaDjango/node_modules/ol/View.js"},{"name":"ol/source/XYZ","loc":{"line":8,"column":16},"parent":"/home/eguiwow/BIC/ol_mapaDjango/map_dev.js","resolved":"/home/eguiwow/BIC/ol_mapaDjango/node_modules/ol/source/XYZ.js"},{"name":"ol/style","loc":{"line":9,"column":57},"parent":"/home/eguiwow/BIC/ol_mapaDjango/map_dev.js","resolved":"/home/eguiwow/BIC/ol_mapaDjango/node_modules/ol/style.js"},{"name":"ol/layer","loc":{"line":10,"column":55},"parent":"/home/eguiwow/BIC/ol_mapaDjango/map_dev.js","resolved":"/home/eguiwow/BIC/ol_mapaDjango/node_modules/ol/layer.js"}],"generated":{"js":"\"use strict\";require(\"ol/ol.css\");var e=require(\"ol/proj\"),t=c(require(\"ol/format/KML\")),o=c(require(\"ol/format/GPX\")),r=c(require(\"ol/Map\")),n=c(require(\"ol/source/Vector\")),l=c(require(\"ol/View\")),i=c(require(\"ol/source/XYZ\")),a=require(\"ol/style\"),u=require(\"ol/layer\");function c(e){return e&&e.__esModule?e:{default:e}}var s='<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a> <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>',g=new u.Tile({source:new i.default({attributions:s,url:\"http://localhost:8080/styles/klokantech-basic/{z}/{x}/{y}.png\",maxZoom:20})}),m={Point:new a.Style({image:new a.Circle({fill:new a.Fill({color:\"rgba(255,255,0,0.4)\"}),radius:5,stroke:new a.Stroke({color:\"#ff0\",width:1})})}),LineString:new a.Style({stroke:new a.Stroke({color:\"#f00\",width:3})}),MultiLineString:new a.Style({stroke:new a.Stroke({color:\"#0f0\",width:3})})},f=document.getElementById(\"gpx_files\"),d=document.getElementById(\"paths\").innerText.split(\"#\"),w=JSON.parse(document.getElementById(\"center\").innerText)[0],p=JSON.parse(document.getElementById(\"center\").innerText)[1],y=document.getElementById(\"zoom\").innerText,h=new u.Vector({source:new n.default({url:\"uploads/kml/bidegorris.kml\",format:new t.default})}),k=new n.default({wrapX:!1,features:(new o.default).readFeatures(f.innerText)}),x=new u.Vector({source:k,style:function(e){return m[e.getGeometry().getType()]}}),T=new u.Vector({source:new n.default({url:\"uploads/gpx/diego.gpx\",format:new o.default})}),E=new r.default({layers:[g,x,T,h],target:document.getElementById(\"map\"),view:new l.default({center:(0,e.fromLonLat)([w,p]),zoom:y})}),L=function(e){var t=[];if(E.forEachFeatureAtPixel(e,function(e){t.push(e)}),t.length>0){var o,r,n=[];for(o=0,r=t.length;o<r;++o)n.push(t[o].get(\"name\"));document.getElementById(\"info\").innerHTML=n.join(\", \")||\"(unknown)\",E.getTarget().style.cursor=\"pointer\"}else document.getElementById(\"info\").innerHTML=\"&nbsp;\",E.getTarget().style.cursor=\"\";var l=window.location.pathname;console.log(l)};function S(t,o){console.log(\"Long: \"+t+\" Lat: \"+o),E.getView().setCenter((0,e.fromLonLat)([t,o])),E.getView().setZoom(13)}E.on(\"pointermove\",function(e){if(!e.dragging){var t=E.getEventPixel(e.originalEvent);L(t)}}),E.on(\"click\",function(e){L(e.pixel),S(w,p),console.log(k.getFeatures()),console.log(k.forEachFeature()),console.log(f.innerText),console.log(kml_path.innerText),console.log(kml_path)});"},"sourceMaps":{"js":{"mappings":[{"source":"map_dev.js","original":{"line":157,"column":0},"generated":{"line":1,"column":0}},{"source":"map_dev.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"map_dev.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"map_dev.js","original":{"line":2,"column":0},"generated":{"line":1,"column":34}},{"source":"map_dev.js","original":{"line":2,"column":0},"generated":{"line":1,"column":38}},{"source":"map_dev.js","original":{"line":2,"column":0},"generated":{"line":1,"column":40}},{"source":"map_dev.js","original":{"line":2,"column":0},"generated":{"line":1,"column":48}},{"source":"map_dev.js","original":{"line":3,"column":0},"generated":{"line":1,"column":59}},{"source":"map_dev.js","original":{"line":3,"column":0},"generated":{"line":1,"column":61}},{"source":"map_dev.js","original":{"line":3,"column":0},"generated":{"line":1,"column":63}},{"source":"map_dev.js","original":{"line":3,"column":0},"generated":{"line":1,"column":71}},{"source":"map_dev.js","original":{"line":4,"column":0},"generated":{"line":1,"column":89}},{"source":"map_dev.js","original":{"line":4,"column":0},"generated":{"line":1,"column":91}},{"source":"map_dev.js","original":{"line":4,"column":0},"generated":{"line":1,"column":93}},{"source":"map_dev.js","original":{"line":4,"column":0},"generated":{"line":1,"column":101}},{"source":"map_dev.js","original":{"line":5,"column":0},"generated":{"line":1,"column":119}},{"source":"map_dev.js","original":{"line":5,"column":0},"generated":{"line":1,"column":121}},{"source":"map_dev.js","original":{"line":5,"column":0},"generated":{"line":1,"column":123}},{"source":"map_dev.js","original":{"line":5,"column":0},"generated":{"line":1,"column":131}},{"source":"map_dev.js","original":{"line":6,"column":0},"generated":{"line":1,"column":142}},{"source":"map_dev.js","original":{"line":6,"column":0},"generated":{"line":1,"column":144}},{"source":"map_dev.js","original":{"line":6,"column":0},"generated":{"line":1,"column":146}},{"source":"map_dev.js","original":{"line":6,"column":0},"generated":{"line":1,"column":154}},{"source":"map_dev.js","original":{"line":7,"column":0},"generated":{"line":1,"column":175}},{"source":"map_dev.js","original":{"line":7,"column":0},"generated":{"line":1,"column":177}},{"source":"map_dev.js","original":{"line":7,"column":0},"generated":{"line":1,"column":179}},{"source":"map_dev.js","original":{"line":7,"column":0},"generated":{"line":1,"column":187}},{"source":"map_dev.js","original":{"line":8,"column":0},"generated":{"line":1,"column":199}},{"source":"map_dev.js","original":{"line":8,"column":0},"generated":{"line":1,"column":201}},{"source":"map_dev.js","original":{"line":8,"column":0},"generated":{"line":1,"column":203}},{"source":"map_dev.js","original":{"line":8,"column":0},"generated":{"line":1,"column":211}},{"source":"map_dev.js","original":{"line":9,"column":0},"generated":{"line":1,"column":229}},{"source":"map_dev.js","original":{"line":9,"column":0},"generated":{"line":1,"column":231}},{"source":"map_dev.js","original":{"line":9,"column":0},"generated":{"line":1,"column":239}},{"source":"map_dev.js","original":{"line":10,"column":0},"generated":{"line":1,"column":251}},{"source":"map_dev.js","original":{"line":10,"column":0},"generated":{"line":1,"column":253}},{"source":"map_dev.js","original":{"line":10,"column":0},"generated":{"line":1,"column":261}},{"source":"map_dev.js","original":{"line":157,"column":0},"generated":{"line":1,"column":273}},{"source":"map_dev.js","original":{"line":157,"column":0},"generated":{"line":1,"column":282}},{"source":"map_dev.js","original":{"line":157,"column":0},"generated":{"line":1,"column":284}},{"source":"map_dev.js","original":{"line":157,"column":0},"generated":{"line":1,"column":287}},{"source":"map_dev.js","original":{"line":157,"column":0},"generated":{"line":1,"column":294}},{"source":"map_dev.js","original":{"line":157,"column":0},"generated":{"line":1,"column":297}},{"source":"map_dev.js","original":{"line":157,"column":0},"generated":{"line":1,"column":299}},{"source":"map_dev.js","original":{"line":157,"column":0},"generated":{"line":1,"column":310}},{"source":"map_dev.js","original":{"line":157,"column":0},"generated":{"line":1,"column":312}},{"source":"map_dev.js","original":{"line":157,"column":0},"generated":{"line":1,"column":313}},{"source":"map_dev.js","original":{"line":157,"column":0},"generated":{"line":1,"column":321}},{"source":"map_dev.js","original":{"line":19,"column":0},"generated":{"line":1,"column":324}},{"source":"map_dev.js","name":"attributions","original":{"line":19,"column":4},"generated":{"line":1,"column":328}},{"source":"map_dev.js","original":{"line":20,"column":2},"generated":{"line":1,"column":330}},{"source":"map_dev.js","name":"raster","original":{"line":24,"column":4},"generated":{"line":1,"column":518}},{"source":"map_dev.js","original":{"line":24,"column":13},"generated":{"line":1,"column":520}},{"source":"map_dev.js","name":"TileLayer","original":{"line":24,"column":17},"generated":{"line":1,"column":524}},{"source":"map_dev.js","original":{"line":24,"column":13},"generated":{"line":1,"column":526}},{"source":"map_dev.js","original":{"line":24,"column":27},"generated":{"line":1,"column":531}},{"source":"map_dev.js","name":"source","original":{"line":25,"column":2},"generated":{"line":1,"column":532}},{"source":"map_dev.js","original":{"line":25,"column":10},"generated":{"line":1,"column":539}},{"source":"map_dev.js","name":"XYZ","original":{"line":25,"column":14},"generated":{"line":1,"column":543}},{"source":"map_dev.js","original":{"line":25,"column":10},"generated":{"line":1,"column":545}},{"source":"map_dev.js","original":{"line":25,"column":18},"generated":{"line":1,"column":553}},{"source":"map_dev.js","name":"attributions","original":{"line":26,"column":4},"generated":{"line":1,"column":554}},{"source":"map_dev.js","name":"attributions","original":{"line":26,"column":18},"generated":{"line":1,"column":567}},{"source":"map_dev.js","name":"url","original":{"line":28,"column":4},"generated":{"line":1,"column":569}},{"source":"map_dev.js","original":{"line":28,"column":9},"generated":{"line":1,"column":573}},{"source":"map_dev.js","name":"maxZoom","original":{"line":29,"column":4},"generated":{"line":1,"column":637}},{"source":"map_dev.js","original":{"line":29,"column":13},"generated":{"line":1,"column":645}},{"source":"map_dev.js","name":"style","original":{"line":35,"column":4},"generated":{"line":1,"column":652}},{"source":"map_dev.js","original":{"line":35,"column":12},"generated":{"line":1,"column":654}},{"source":"map_dev.js","original":{"line":36,"column":11},"generated":{"line":1,"column":655}},{"source":"map_dev.js","original":{"line":36,"column":11},"generated":{"line":1,"column":661}},{"source":"map_dev.js","name":"Style","original":{"line":36,"column":15},"generated":{"line":1,"column":665}},{"source":"map_dev.js","original":{"line":36,"column":11},"generated":{"line":1,"column":667}},{"source":"map_dev.js","original":{"line":36,"column":21},"generated":{"line":1,"column":673}},{"source":"map_dev.js","name":"image","original":{"line":37,"column":4},"generated":{"line":1,"column":674}},{"source":"map_dev.js","original":{"line":37,"column":11},"generated":{"line":1,"column":680}},{"source":"map_dev.js","name":"CircleStyle","original":{"line":37,"column":15},"generated":{"line":1,"column":684}},{"source":"map_dev.js","original":{"line":37,"column":11},"generated":{"line":1,"column":686}},{"source":"map_dev.js","original":{"line":37,"column":27},"generated":{"line":1,"column":693}},{"source":"map_dev.js","name":"fill","original":{"line":38,"column":6},"generated":{"line":1,"column":694}},{"source":"map_dev.js","original":{"line":38,"column":12},"generated":{"line":1,"column":699}},{"source":"map_dev.js","name":"Fill","original":{"line":38,"column":16},"generated":{"line":1,"column":703}},{"source":"map_dev.js","original":{"line":38,"column":12},"generated":{"line":1,"column":705}},{"source":"map_dev.js","original":{"line":38,"column":21},"generated":{"line":1,"column":710}},{"source":"map_dev.js","name":"color","original":{"line":39,"column":8},"generated":{"line":1,"column":711}},{"source":"map_dev.js","original":{"line":39,"column":15},"generated":{"line":1,"column":717}},{"source":"map_dev.js","name":"radius","original":{"line":41,"column":6},"generated":{"line":1,"column":741}},{"source":"map_dev.js","original":{"line":41,"column":14},"generated":{"line":1,"column":748}},{"source":"map_dev.js","name":"stroke","original":{"line":42,"column":6},"generated":{"line":1,"column":750}},{"source":"map_dev.js","original":{"line":42,"column":14},"generated":{"line":1,"column":757}},{"source":"map_dev.js","name":"Stroke","original":{"line":42,"column":18},"generated":{"line":1,"column":761}},{"source":"map_dev.js","original":{"line":42,"column":14},"generated":{"line":1,"column":763}},{"source":"map_dev.js","original":{"line":42,"column":25},"generated":{"line":1,"column":770}},{"source":"map_dev.js","name":"color","original":{"line":43,"column":8},"generated":{"line":1,"column":771}},{"source":"map_dev.js","original":{"line":43,"column":15},"generated":{"line":1,"column":777}},{"source":"map_dev.js","name":"width","original":{"line":44,"column":8},"generated":{"line":1,"column":784}},{"source":"map_dev.js","original":{"line":44,"column":15},"generated":{"line":1,"column":790}},{"source":"map_dev.js","original":{"line":48,"column":16},"generated":{"line":1,"column":798}},{"source":"map_dev.js","original":{"line":48,"column":16},"generated":{"line":1,"column":809}},{"source":"map_dev.js","name":"Style","original":{"line":48,"column":20},"generated":{"line":1,"column":813}},{"source":"map_dev.js","original":{"line":48,"column":16},"generated":{"line":1,"column":815}},{"source":"map_dev.js","original":{"line":48,"column":26},"generated":{"line":1,"column":821}},{"source":"map_dev.js","name":"stroke","original":{"line":49,"column":4},"generated":{"line":1,"column":822}},{"source":"map_dev.js","original":{"line":49,"column":12},"generated":{"line":1,"column":829}},{"source":"map_dev.js","name":"Stroke","original":{"line":49,"column":16},"generated":{"line":1,"column":833}},{"source":"map_dev.js","original":{"line":49,"column":12},"generated":{"line":1,"column":835}},{"source":"map_dev.js","original":{"line":49,"column":23},"generated":{"line":1,"column":842}},{"source":"map_dev.js","name":"color","original":{"line":50,"column":6},"generated":{"line":1,"column":843}},{"source":"map_dev.js","original":{"line":50,"column":13},"generated":{"line":1,"column":849}},{"source":"map_dev.js","name":"width","original":{"line":51,"column":6},"generated":{"line":1,"column":856}},{"source":"map_dev.js","original":{"line":51,"column":13},"generated":{"line":1,"column":862}},{"source":"map_dev.js","original":{"line":54,"column":21},"generated":{"line":1,"column":868}},{"source":"map_dev.js","original":{"line":54,"column":21},"generated":{"line":1,"column":884}},{"source":"map_dev.js","name":"Style","original":{"line":54,"column":25},"generated":{"line":1,"column":888}},{"source":"map_dev.js","original":{"line":54,"column":21},"generated":{"line":1,"column":890}},{"source":"map_dev.js","original":{"line":54,"column":31},"generated":{"line":1,"column":896}},{"source":"map_dev.js","name":"stroke","original":{"line":55,"column":4},"generated":{"line":1,"column":897}},{"source":"map_dev.js","original":{"line":55,"column":12},"generated":{"line":1,"column":904}},{"source":"map_dev.js","name":"Stroke","original":{"line":55,"column":16},"generated":{"line":1,"column":908}},{"source":"map_dev.js","original":{"line":55,"column":12},"generated":{"line":1,"column":910}},{"source":"map_dev.js","original":{"line":55,"column":23},"generated":{"line":1,"column":917}},{"source":"map_dev.js","name":"color","original":{"line":56,"column":6},"generated":{"line":1,"column":918}},{"source":"map_dev.js","original":{"line":56,"column":13},"generated":{"line":1,"column":924}},{"source":"map_dev.js","name":"width","original":{"line":57,"column":6},"generated":{"line":1,"column":931}},{"source":"map_dev.js","original":{"line":57,"column":13},"generated":{"line":1,"column":937}},{"source":"map_dev.js","name":"gpx_files","original":{"line":63,"column":4},"generated":{"line":1,"column":944}},{"source":"map_dev.js","name":"document","original":{"line":63,"column":16},"generated":{"line":1,"column":946}},{"source":"map_dev.js","name":"getElementById","original":{"line":63,"column":25},"generated":{"line":1,"column":955}},{"source":"map_dev.js","original":{"line":63,"column":40},"generated":{"line":1,"column":970}},{"source":"map_dev.js","name":"gpx_paths","original":{"line":64,"column":4},"generated":{"line":1,"column":983}},{"source":"map_dev.js","name":"document","original":{"line":64,"column":16},"generated":{"line":1,"column":985}},{"source":"map_dev.js","name":"getElementById","original":{"line":64,"column":25},"generated":{"line":1,"column":994}},{"source":"map_dev.js","original":{"line":64,"column":40},"generated":{"line":1,"column":1009}},{"source":"map_dev.js","name":"innerText","original":{"line":64,"column":49},"generated":{"line":1,"column":1018}},{"source":"map_dev.js","name":"split","original":{"line":64,"column":59},"generated":{"line":1,"column":1028}},{"source":"map_dev.js","original":{"line":64,"column":65},"generated":{"line":1,"column":1034}},{"source":"map_dev.js","name":"centerLon","original":{"line":68,"column":4},"generated":{"line":1,"column":1039}},{"source":"map_dev.js","name":"JSON","original":{"line":68,"column":16},"generated":{"line":1,"column":1041}},{"source":"map_dev.js","name":"parse","original":{"line":68,"column":21},"generated":{"line":1,"column":1046}},{"source":"map_dev.js","name":"document","original":{"line":68,"column":27},"generated":{"line":1,"column":1052}},{"source":"map_dev.js","name":"getElementById","original":{"line":68,"column":36},"generated":{"line":1,"column":1061}},{"source":"map_dev.js","original":{"line":68,"column":51},"generated":{"line":1,"column":1076}},{"source":"map_dev.js","name":"innerText","original":{"line":68,"column":61},"generated":{"line":1,"column":1086}},{"source":"map_dev.js","original":{"line":68,"column":72},"generated":{"line":1,"column":1097}},{"source":"map_dev.js","name":"centerLat","original":{"line":69,"column":4},"generated":{"line":1,"column":1100}},{"source":"map_dev.js","name":"JSON","original":{"line":69,"column":16},"generated":{"line":1,"column":1102}},{"source":"map_dev.js","name":"parse","original":{"line":69,"column":21},"generated":{"line":1,"column":1107}},{"source":"map_dev.js","name":"document","original":{"line":69,"column":27},"generated":{"line":1,"column":1113}},{"source":"map_dev.js","name":"getElementById","original":{"line":69,"column":36},"generated":{"line":1,"column":1122}},{"source":"map_dev.js","original":{"line":69,"column":51},"generated":{"line":1,"column":1137}},{"source":"map_dev.js","name":"innerText","original":{"line":69,"column":61},"generated":{"line":1,"column":1147}},{"source":"map_dev.js","original":{"line":69,"column":72},"generated":{"line":1,"column":1158}},{"source":"map_dev.js","name":"zoom","original":{"line":70,"column":4},"generated":{"line":1,"column":1161}},{"source":"map_dev.js","name":"document","original":{"line":70,"column":11},"generated":{"line":1,"column":1163}},{"source":"map_dev.js","name":"getElementById","original":{"line":70,"column":20},"generated":{"line":1,"column":1172}},{"source":"map_dev.js","original":{"line":70,"column":35},"generated":{"line":1,"column":1187}},{"source":"map_dev.js","name":"innerText","original":{"line":70,"column":43},"generated":{"line":1,"column":1195}},{"source":"map_dev.js","name":"vector_kml","original":{"line":73,"column":4},"generated":{"line":1,"column":1205}},{"source":"map_dev.js","original":{"line":73,"column":17},"generated":{"line":1,"column":1207}},{"source":"map_dev.js","name":"VectorLayer","original":{"line":73,"column":21},"generated":{"line":1,"column":1211}},{"source":"map_dev.js","original":{"line":73,"column":17},"generated":{"line":1,"column":1213}},{"source":"map_dev.js","original":{"line":73,"column":33},"generated":{"line":1,"column":1220}},{"source":"map_dev.js","name":"source","original":{"line":74,"column":2},"generated":{"line":1,"column":1221}},{"source":"map_dev.js","original":{"line":74,"column":10},"generated":{"line":1,"column":1228}},{"source":"map_dev.js","name":"VectorSource","original":{"line":74,"column":14},"generated":{"line":1,"column":1232}},{"source":"map_dev.js","original":{"line":74,"column":10},"generated":{"line":1,"column":1234}},{"source":"map_dev.js","original":{"line":74,"column":27},"generated":{"line":1,"column":1242}},{"source":"map_dev.js","name":"url","original":{"line":76,"column":4},"generated":{"line":1,"column":1243}},{"source":"map_dev.js","original":{"line":76,"column":9},"generated":{"line":1,"column":1247}},{"source":"map_dev.js","name":"format","original":{"line":77,"column":4},"generated":{"line":1,"column":1276}},{"source":"map_dev.js","original":{"line":77,"column":12},"generated":{"line":1,"column":1283}},{"source":"map_dev.js","name":"KML","original":{"line":77,"column":16},"generated":{"line":1,"column":1287}},{"source":"map_dev.js","original":{"line":77,"column":12},"generated":{"line":1,"column":1289}},{"source":"map_dev.js","name":"sourceGPX","original":{"line":82,"column":4},"generated":{"line":1,"column":1301}},{"source":"map_dev.js","original":{"line":82,"column":16},"generated":{"line":1,"column":1303}},{"source":"map_dev.js","name":"VectorSource","original":{"line":82,"column":20},"generated":{"line":1,"column":1307}},{"source":"map_dev.js","original":{"line":82,"column":16},"generated":{"line":1,"column":1309}},{"source":"map_dev.js","original":{"line":82,"column":33},"generated":{"line":1,"column":1317}},{"source":"map_dev.js","name":"wrapX","original":{"line":83,"column":2},"generated":{"line":1,"column":1318}},{"source":"map_dev.js","original":{"line":83,"column":9},"generated":{"line":1,"column":1325}},{"source":"map_dev.js","name":"features","original":{"line":85,"column":2},"generated":{"line":1,"column":1327}},{"source":"map_dev.js","original":{"line":85,"column":12},"generated":{"line":1,"column":1337}},{"source":"map_dev.js","name":"GPX","original":{"line":85,"column":16},"generated":{"line":1,"column":1341}},{"source":"map_dev.js","original":{"line":85,"column":12},"generated":{"line":1,"column":1343}},{"source":"map_dev.js","name":"readFeatures","original":{"line":85,"column":22},"generated":{"line":1,"column":1352}},{"source":"map_dev.js","name":"gpx_files","original":{"line":85,"column":35},"generated":{"line":1,"column":1365}},{"source":"map_dev.js","name":"innerText","original":{"line":85,"column":45},"generated":{"line":1,"column":1367}},{"source":"map_dev.js","name":"vector_gpx","original":{"line":88,"column":4},"generated":{"line":1,"column":1380}},{"source":"map_dev.js","original":{"line":88,"column":17},"generated":{"line":1,"column":1382}},{"source":"map_dev.js","name":"VectorLayer","original":{"line":88,"column":21},"generated":{"line":1,"column":1386}},{"source":"map_dev.js","original":{"line":88,"column":17},"generated":{"line":1,"column":1388}},{"source":"map_dev.js","original":{"line":88,"column":33},"generated":{"line":1,"column":1395}},{"source":"map_dev.js","name":"source","original":{"line":89,"column":2},"generated":{"line":1,"column":1396}},{"source":"map_dev.js","name":"sourceGPX","original":{"line":89,"column":10},"generated":{"line":1,"column":1403}},{"source":"map_dev.js","name":"style","original":{"line":90,"column":2},"generated":{"line":1,"column":1405}},{"source":"map_dev.js","original":{"line":90,"column":9},"generated":{"line":1,"column":1411}},{"source":"map_dev.js","name":"feature","original":{"line":90,"column":19},"generated":{"line":1,"column":1420}},{"source":"map_dev.js","name":"style","original":{"line":91,"column":11},"generated":{"line":1,"column":1423}},{"source":"map_dev.js","name":"style","original":{"line":91,"column":11},"generated":{"line":1,"column":1430}},{"source":"map_dev.js","name":"feature","original":{"line":91,"column":17},"generated":{"line":1,"column":1432}},{"source":"map_dev.js","name":"getGeometry","original":{"line":91,"column":25},"generated":{"line":1,"column":1434}},{"source":"map_dev.js","name":"getType","original":{"line":91,"column":39},"generated":{"line":1,"column":1448}},{"source":"map_dev.js","name":"vector_url","original":{"line":96,"column":4},"generated":{"line":1,"column":1462}},{"source":"map_dev.js","original":{"line":96,"column":17},"generated":{"line":1,"column":1464}},{"source":"map_dev.js","name":"VectorLayer","original":{"line":96,"column":21},"generated":{"line":1,"column":1468}},{"source":"map_dev.js","original":{"line":96,"column":17},"generated":{"line":1,"column":1470}},{"source":"map_dev.js","original":{"line":96,"column":33},"generated":{"line":1,"column":1477}},{"source":"map_dev.js","name":"source","original":{"line":97,"column":2},"generated":{"line":1,"column":1478}},{"source":"map_dev.js","original":{"line":97,"column":10},"generated":{"line":1,"column":1485}},{"source":"map_dev.js","name":"VectorSource","original":{"line":97,"column":14},"generated":{"line":1,"column":1489}},{"source":"map_dev.js","original":{"line":97,"column":10},"generated":{"line":1,"column":1491}},{"source":"map_dev.js","original":{"line":97,"column":27},"generated":{"line":1,"column":1499}},{"source":"map_dev.js","name":"url","original":{"line":99,"column":4},"generated":{"line":1,"column":1500}},{"source":"map_dev.js","original":{"line":99,"column":9},"generated":{"line":1,"column":1504}},{"source":"map_dev.js","name":"format","original":{"line":100,"column":4},"generated":{"line":1,"column":1528}},{"source":"map_dev.js","original":{"line":100,"column":12},"generated":{"line":1,"column":1535}},{"source":"map_dev.js","name":"GPX","original":{"line":100,"column":16},"generated":{"line":1,"column":1539}},{"source":"map_dev.js","original":{"line":100,"column":12},"generated":{"line":1,"column":1541}},{"source":"map_dev.js","name":"map","original":{"line":105,"column":4},"generated":{"line":1,"column":1553}},{"source":"map_dev.js","original":{"line":105,"column":10},"generated":{"line":1,"column":1555}},{"source":"map_dev.js","name":"Map","original":{"line":105,"column":14},"generated":{"line":1,"column":1559}},{"source":"map_dev.js","original":{"line":105,"column":10},"generated":{"line":1,"column":1561}},{"source":"map_dev.js","original":{"line":105,"column":18},"generated":{"line":1,"column":1569}},{"source":"map_dev.js","name":"layers","original":{"line":106,"column":2},"generated":{"line":1,"column":1570}},{"source":"map_dev.js","original":{"line":106,"column":10},"generated":{"line":1,"column":1577}},{"source":"map_dev.js","name":"raster","original":{"line":106,"column":11},"generated":{"line":1,"column":1578}},{"source":"map_dev.js","name":"vector_gpx","original":{"line":106,"column":19},"generated":{"line":1,"column":1580}},{"source":"map_dev.js","name":"vector_url","original":{"line":106,"column":31},"generated":{"line":1,"column":1582}},{"source":"map_dev.js","name":"vector_kml","original":{"line":106,"column":43},"generated":{"line":1,"column":1584}},{"source":"map_dev.js","name":"target","original":{"line":107,"column":2},"generated":{"line":1,"column":1587}},{"source":"map_dev.js","name":"document","original":{"line":107,"column":10},"generated":{"line":1,"column":1594}},{"source":"map_dev.js","name":"getElementById","original":{"line":107,"column":19},"generated":{"line":1,"column":1603}},{"source":"map_dev.js","original":{"line":107,"column":34},"generated":{"line":1,"column":1618}},{"source":"map_dev.js","name":"view","original":{"line":108,"column":2},"generated":{"line":1,"column":1625}},{"source":"map_dev.js","original":{"line":108,"column":8},"generated":{"line":1,"column":1630}},{"source":"map_dev.js","name":"View","original":{"line":108,"column":12},"generated":{"line":1,"column":1634}},{"source":"map_dev.js","original":{"line":108,"column":8},"generated":{"line":1,"column":1636}},{"source":"map_dev.js","original":{"line":108,"column":17},"generated":{"line":1,"column":1644}},{"source":"map_dev.js","name":"center","original":{"line":110,"column":4},"generated":{"line":1,"column":1645}},{"source":"map_dev.js","original":{"line":110,"column":12},"generated":{"line":1,"column":1653}},{"source":"map_dev.js","original":{"line":110,"column":23},"generated":{"line":1,"column":1655}},{"source":"map_dev.js","original":{"line":110,"column":23},"generated":{"line":1,"column":1657}},{"source":"map_dev.js","original":{"line":110,"column":23},"generated":{"line":1,"column":1669}},{"source":"map_dev.js","name":"centerLon","original":{"line":110,"column":24},"generated":{"line":1,"column":1670}},{"source":"map_dev.js","name":"centerLat","original":{"line":110,"column":35},"generated":{"line":1,"column":1672}},{"source":"map_dev.js","name":"zoom","original":{"line":114,"column":4},"generated":{"line":1,"column":1676}},{"source":"map_dev.js","name":"zoom","original":{"line":114,"column":10},"generated":{"line":1,"column":1681}},{"source":"map_dev.js","name":"displayFeatureInfo","original":{"line":118,"column":4},"generated":{"line":1,"column":1687}},{"source":"map_dev.js","original":{"line":118,"column":25},"generated":{"line":1,"column":1689}},{"source":"map_dev.js","name":"pixel","original":{"line":118,"column":35},"generated":{"line":1,"column":1698}},{"source":"map_dev.js","name":"features","original":{"line":119,"column":6},"generated":{"line":1,"column":1701}},{"source":"map_dev.js","name":"features","original":{"line":119,"column":6},"generated":{"line":1,"column":1705}},{"source":"map_dev.js","original":{"line":119,"column":17},"generated":{"line":1,"column":1707}},{"source":"map_dev.js","name":"features","original":{"line":123,"column":6},"generated":{"line":1,"column":1710}},{"source":"map_dev.js","name":"map","original":{"line":120,"column":2},"generated":{"line":1,"column":1713}},{"source":"map_dev.js","name":"forEachFeatureAtPixel","original":{"line":120,"column":6},"generated":{"line":1,"column":1715}},{"source":"map_dev.js","name":"pixel","original":{"line":120,"column":28},"generated":{"line":1,"column":1737}},{"source":"map_dev.js","original":{"line":120,"column":35},"generated":{"line":1,"column":1739}},{"source":"map_dev.js","name":"feature","original":{"line":120,"column":45},"generated":{"line":1,"column":1748}},{"source":"map_dev.js","name":"features","original":{"line":121,"column":4},"generated":{"line":1,"column":1751}},{"source":"map_dev.js","name":"push","original":{"line":121,"column":13},"generated":{"line":1,"column":1753}},{"source":"map_dev.js","name":"feature","original":{"line":121,"column":18},"generated":{"line":1,"column":1758}},{"source":"map_dev.js","name":"features","original":{"line":123,"column":6},"generated":{"line":1,"column":1763}},{"source":"map_dev.js","name":"length","original":{"line":123,"column":15},"generated":{"line":1,"column":1765}},{"source":"map_dev.js","original":{"line":123,"column":24},"generated":{"line":1,"column":1772}},{"source":"map_dev.js","original":{"line":123,"column":27},"generated":{"line":1,"column":1774}},{"source":"map_dev.js","name":"info","original":{"line":124,"column":8},"generated":{"line":1,"column":1775}},{"source":"map_dev.js","name":"i","original":{"line":125,"column":8},"generated":{"line":1,"column":1779}},{"source":"map_dev.js","name":"ii","original":{"line":125,"column":11},"generated":{"line":1,"column":1781}},{"source":"map_dev.js","name":"info","original":{"line":124,"column":8},"generated":{"line":1,"column":1783}},{"source":"map_dev.js","original":{"line":124,"column":15},"generated":{"line":1,"column":1785}},{"source":"map_dev.js","name":"i","original":{"line":126,"column":9},"generated":{"line":1,"column":1788}},{"source":"map_dev.js","name":"i","original":{"line":126,"column":9},"generated":{"line":1,"column":1792}},{"source":"map_dev.js","original":{"line":126,"column":13},"generated":{"line":1,"column":1794}},{"source":"map_dev.js","name":"ii","original":{"line":126,"column":16},"generated":{"line":1,"column":1796}},{"source":"map_dev.js","name":"features","original":{"line":126,"column":21},"generated":{"line":1,"column":1798}},{"source":"map_dev.js","name":"length","original":{"line":126,"column":30},"generated":{"line":1,"column":1800}},{"source":"map_dev.js","name":"i","original":{"line":126,"column":38},"generated":{"line":1,"column":1807}},{"source":"map_dev.js","name":"ii","original":{"line":126,"column":42},"generated":{"line":1,"column":1809}},{"source":"map_dev.js","name":"i","original":{"line":126,"column":48},"generated":{"line":1,"column":1813}},{"source":"map_dev.js","name":"info","original":{"line":127,"column":6},"generated":{"line":1,"column":1815}},{"source":"map_dev.js","name":"push","original":{"line":127,"column":11},"generated":{"line":1,"column":1817}},{"source":"map_dev.js","name":"features","original":{"line":127,"column":16},"generated":{"line":1,"column":1822}},{"source":"map_dev.js","name":"i","original":{"line":127,"column":25},"generated":{"line":1,"column":1824}},{"source":"map_dev.js","name":"get","original":{"line":127,"column":28},"generated":{"line":1,"column":1827}},{"source":"map_dev.js","original":{"line":127,"column":32},"generated":{"line":1,"column":1831}},{"source":"map_dev.js","name":"document","original":{"line":129,"column":4},"generated":{"line":1,"column":1840}},{"source":"map_dev.js","name":"getElementById","original":{"line":129,"column":13},"generated":{"line":1,"column":1849}},{"source":"map_dev.js","original":{"line":129,"column":28},"generated":{"line":1,"column":1864}},{"source":"map_dev.js","name":"innerHTML","original":{"line":129,"column":36},"generated":{"line":1,"column":1872}},{"source":"map_dev.js","name":"info","original":{"line":129,"column":48},"generated":{"line":1,"column":1882}},{"source":"map_dev.js","name":"join","original":{"line":129,"column":53},"generated":{"line":1,"column":1884}},{"source":"map_dev.js","original":{"line":129,"column":58},"generated":{"line":1,"column":1889}},{"source":"map_dev.js","original":{"line":129,"column":67},"generated":{"line":1,"column":1896}},{"source":"map_dev.js","name":"map","original":{"line":130,"column":4},"generated":{"line":1,"column":1908}},{"source":"map_dev.js","name":"getTarget","original":{"line":130,"column":8},"generated":{"line":1,"column":1910}},{"source":"map_dev.js","name":"style","original":{"line":130,"column":20},"generated":{"line":1,"column":1922}},{"source":"map_dev.js","name":"cursor","original":{"line":130,"column":26},"generated":{"line":1,"column":1928}},{"source":"map_dev.js","original":{"line":130,"column":35},"generated":{"line":1,"column":1935}},{"source":"map_dev.js","name":"document","original":{"line":132,"column":4},"generated":{"line":1,"column":1950}},{"source":"map_dev.js","name":"getElementById","original":{"line":132,"column":13},"generated":{"line":1,"column":1959}},{"source":"map_dev.js","original":{"line":132,"column":28},"generated":{"line":1,"column":1974}},{"source":"map_dev.js","name":"innerHTML","original":{"line":132,"column":36},"generated":{"line":1,"column":1982}},{"source":"map_dev.js","original":{"line":132,"column":48},"generated":{"line":1,"column":1992}},{"source":"map_dev.js","name":"map","original":{"line":133,"column":4},"generated":{"line":1,"column":2001}},{"source":"map_dev.js","name":"getTarget","original":{"line":133,"column":8},"generated":{"line":1,"column":2003}},{"source":"map_dev.js","name":"style","original":{"line":133,"column":20},"generated":{"line":1,"column":2015}},{"source":"map_dev.js","name":"cursor","original":{"line":133,"column":26},"generated":{"line":1,"column":2021}},{"source":"map_dev.js","original":{"line":133,"column":35},"generated":{"line":1,"column":2028}},{"source":"map_dev.js","name":"loc","original":{"line":135,"column":6},"generated":{"line":1,"column":2031}},{"source":"map_dev.js","name":"loc","original":{"line":135,"column":6},"generated":{"line":1,"column":2035}},{"source":"map_dev.js","name":"window","original":{"line":135,"column":12},"generated":{"line":1,"column":2037}},{"source":"map_dev.js","name":"location","original":{"line":135,"column":19},"generated":{"line":1,"column":2044}},{"source":"map_dev.js","name":"pathname","original":{"line":135,"column":28},"generated":{"line":1,"column":2053}},{"source":"map_dev.js","name":"console","original":{"line":136,"column":2},"generated":{"line":1,"column":2062}},{"source":"map_dev.js","name":"log","original":{"line":136,"column":10},"generated":{"line":1,"column":2070}},{"source":"map_dev.js","name":"loc","original":{"line":136,"column":14},"generated":{"line":1,"column":2074}},{"source":"map_dev.js","original":{"line":141,"column":0},"generated":{"line":1,"column":2078}},{"source":"map_dev.js","name":"CenterMap","original":{"line":141,"column":9},"generated":{"line":1,"column":2087}},{"source":"map_dev.js","name":"long","original":{"line":141,"column":19},"generated":{"line":1,"column":2089}},{"source":"map_dev.js","name":"lati","original":{"line":141,"column":25},"generated":{"line":1,"column":2091}},{"source":"map_dev.js","name":"console","original":{"line":142,"column":2},"generated":{"line":1,"column":2094}},{"source":"map_dev.js","name":"log","original":{"line":142,"column":10},"generated":{"line":1,"column":2102}},{"source":"map_dev.js","original":{"line":142,"column":14},"generated":{"line":1,"column":2106}},{"source":"map_dev.js","name":"long","original":{"line":142,"column":25},"generated":{"line":1,"column":2115}},{"source":"map_dev.js","original":{"line":142,"column":32},"generated":{"line":1,"column":2117}},{"source":"map_dev.js","name":"lati","original":{"line":142,"column":43},"generated":{"line":1,"column":2126}},{"source":"map_dev.js","name":"map","original":{"line":143,"column":2},"generated":{"line":1,"column":2129}},{"source":"map_dev.js","name":"getView","original":{"line":143,"column":6},"generated":{"line":1,"column":2131}},{"source":"map_dev.js","name":"setCenter","original":{"line":143,"column":16},"generated":{"line":1,"column":2141}},{"source":"map_dev.js","original":{"line":143,"column":26},"generated":{"line":1,"column":2152}},{"source":"map_dev.js","original":{"line":143,"column":37},"generated":{"line":1,"column":2154}},{"source":"map_dev.js","original":{"line":143,"column":37},"generated":{"line":1,"column":2156}},{"source":"map_dev.js","original":{"line":143,"column":37},"generated":{"line":1,"column":2168}},{"source":"map_dev.js","name":"long","original":{"line":143,"column":38},"generated":{"line":1,"column":2169}},{"source":"map_dev.js","name":"lati","original":{"line":143,"column":44},"generated":{"line":1,"column":2171}},{"source":"map_dev.js","name":"map","original":{"line":144,"column":2},"generated":{"line":1,"column":2176}},{"source":"map_dev.js","name":"getView","original":{"line":144,"column":6},"generated":{"line":1,"column":2178}},{"source":"map_dev.js","name":"setZoom","original":{"line":144,"column":16},"generated":{"line":1,"column":2188}},{"source":"map_dev.js","original":{"line":144,"column":24},"generated":{"line":1,"column":2196}},{"source":"map_dev.js","name":"map","original":{"line":149,"column":0},"generated":{"line":1,"column":2200}},{"source":"map_dev.js","name":"on","original":{"line":149,"column":4},"generated":{"line":1,"column":2202}},{"source":"map_dev.js","original":{"line":149,"column":7},"generated":{"line":1,"column":2205}},{"source":"map_dev.js","original":{"line":149,"column":22},"generated":{"line":1,"column":2219}},{"source":"map_dev.js","name":"evt","original":{"line":149,"column":32},"generated":{"line":1,"column":2228}},{"source":"map_dev.js","name":"evt","original":{"line":150,"column":6},"generated":{"line":1,"column":2231}},{"source":"map_dev.js","name":"evt","original":{"line":150,"column":6},"generated":{"line":1,"column":2235}},{"source":"map_dev.js","name":"dragging","original":{"line":150,"column":10},"generated":{"line":1,"column":2237}},{"source":"map_dev.js","name":"evt","original":{"line":150,"column":6},"generated":{"line":1,"column":2246}},{"source":"map_dev.js","name":"pixel","original":{"line":153,"column":6},"generated":{"line":1,"column":2247}},{"source":"map_dev.js","name":"pixel","original":{"line":153,"column":6},"generated":{"line":1,"column":2251}},{"source":"map_dev.js","name":"map","original":{"line":153,"column":14},"generated":{"line":1,"column":2253}},{"source":"map_dev.js","name":"getEventPixel","original":{"line":153,"column":18},"generated":{"line":1,"column":2255}},{"source":"map_dev.js","name":"evt","original":{"line":153,"column":32},"generated":{"line":1,"column":2269}},{"source":"map_dev.js","name":"originalEvent","original":{"line":153,"column":36},"generated":{"line":1,"column":2271}},{"source":"map_dev.js","name":"displayFeatureInfo","original":{"line":154,"column":2},"generated":{"line":1,"column":2286}},{"source":"map_dev.js","name":"pixel","original":{"line":154,"column":21},"generated":{"line":1,"column":2288}},{"source":"map_dev.js","name":"map","original":{"line":157,"column":0},"generated":{"line":1,"column":2294}},{"source":"map_dev.js","name":"on","original":{"line":157,"column":4},"generated":{"line":1,"column":2296}},{"source":"map_dev.js","original":{"line":157,"column":7},"generated":{"line":1,"column":2299}},{"source":"map_dev.js","original":{"line":157,"column":16},"generated":{"line":1,"column":2307}},{"source":"map_dev.js","name":"evt","original":{"line":157,"column":26},"generated":{"line":1,"column":2316}},{"source":"map_dev.js","name":"displayFeatureInfo","original":{"line":158,"column":2},"generated":{"line":1,"column":2319}},{"source":"map_dev.js","name":"evt","original":{"line":158,"column":21},"generated":{"line":1,"column":2321}},{"source":"map_dev.js","name":"pixel","original":{"line":158,"column":25},"generated":{"line":1,"column":2323}},{"source":"map_dev.js","name":"CenterMap","original":{"line":161,"column":2},"generated":{"line":1,"column":2330}},{"source":"map_dev.js","name":"centerLon","original":{"line":161,"column":12},"generated":{"line":1,"column":2332}},{"source":"map_dev.js","name":"centerLat","original":{"line":161,"column":23},"generated":{"line":1,"column":2334}},{"source":"map_dev.js","name":"console","original":{"line":163,"column":2},"generated":{"line":1,"column":2337}},{"source":"map_dev.js","name":"log","original":{"line":163,"column":10},"generated":{"line":1,"column":2345}},{"source":"map_dev.js","name":"sourceGPX","original":{"line":163,"column":14},"generated":{"line":1,"column":2349}},{"source":"map_dev.js","name":"getFeatures","original":{"line":163,"column":24},"generated":{"line":1,"column":2351}},{"source":"map_dev.js","name":"console","original":{"line":164,"column":2},"generated":{"line":1,"column":2366}},{"source":"map_dev.js","name":"log","original":{"line":164,"column":10},"generated":{"line":1,"column":2374}},{"source":"map_dev.js","name":"sourceGPX","original":{"line":164,"column":14},"generated":{"line":1,"column":2378}},{"source":"map_dev.js","name":"forEachFeature","original":{"line":164,"column":24},"generated":{"line":1,"column":2380}},{"source":"map_dev.js","name":"console","original":{"line":165,"column":2},"generated":{"line":1,"column":2398}},{"source":"map_dev.js","name":"log","original":{"line":165,"column":10},"generated":{"line":1,"column":2406}},{"source":"map_dev.js","name":"gpx_files","original":{"line":165,"column":14},"generated":{"line":1,"column":2410}},{"source":"map_dev.js","name":"innerText","original":{"line":165,"column":24},"generated":{"line":1,"column":2412}},{"source":"map_dev.js","name":"console","original":{"line":166,"column":2},"generated":{"line":1,"column":2423}},{"source":"map_dev.js","name":"log","original":{"line":166,"column":10},"generated":{"line":1,"column":2431}},{"source":"map_dev.js","name":"kml_path","original":{"line":166,"column":14},"generated":{"line":1,"column":2435}},{"source":"map_dev.js","name":"innerText","original":{"line":166,"column":23},"generated":{"line":1,"column":2444}},{"source":"map_dev.js","name":"console","original":{"line":167,"column":2},"generated":{"line":1,"column":2455}},{"source":"map_dev.js","name":"log","original":{"line":167,"column":10},"generated":{"line":1,"column":2463}},{"source":"map_dev.js","name":"kml_path","original":{"line":167,"column":14},"generated":{"line":1,"column":2467}}],"sources":{"map_dev.js":"import 'ol/ol.css';\nimport {useGeographic, transform, fromLonLat} from 'ol/proj'\nimport KML from 'ol/format/KML';\nimport GPX from 'ol/format/GPX';\nimport Map from 'ol/Map';\nimport VectorSource from 'ol/source/Vector';\nimport View from 'ol/View';\nimport XYZ from 'ol/source/XYZ';\nimport {Circle as CircleStyle, Fill, Stroke, Style} from 'ol/style';\nimport {Tile as TileLayer, Vector as VectorLayer} from 'ol/layer';\n\n// Esta función CAMBIA la proyección de Mercator a WGS-84\n// TOFIX al cambiar la proyección parece que peta\n// useGeographic();\n\n// ###### Variables NO dinámicas ######\n\n// Mapas y servidor de mapas cortesía de... \nvar attributions =\n  '<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a> ' +\n  '<a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>';\n\n// Tiles (pintado del mapa)\nvar raster = new TileLayer({\n  source: new XYZ({\n    attributions: attributions,\n    // URL correspondiente al servidor mapTiles alojado en el propio PC\n    url: 'http://localhost:8080/styles/klokantech-basic/{z}/{x}/{y}.png',\n    maxZoom: 20,\n  }),\n});\n\n// Estilo de pintado de círculos/líneas/etc. \n// TODO: customizarlo al gusto\nvar style = {\n  'Point': new Style({\n    image: new CircleStyle({\n      fill: new Fill({\n        color: 'rgba(255,255,0,0.4)',\n      }),\n      radius: 5,\n      stroke: new Stroke({\n        color: '#ff0',\n        width: 1,\n      }),\n    }),\n  }),\n  'LineString': new Style({\n    stroke: new Stroke({\n      color: '#f00',\n      width: 3,\n    }),\n  }),\n  'MultiLineString': new Style({\n    stroke: new Stroke({\n      color: '#0f0',\n      width: 3,\n    }),\n  }),\n};\n\n// ###### Variables dinámicas ######\nvar gpx_files = document.getElementById(\"gpx_files\")\nvar gpx_paths = document.getElementById(\"paths\").innerText.split('#')\n// var kml_path = document.getElementById(\"kml\").textContent\n\n// From Zaratamap\nvar centerLon = JSON.parse(document.getElementById(\"center\").innerText)[0]\nvar centerLat = JSON.parse(document.getElementById(\"center\").innerText)[1]\nvar zoom = document.getElementById(\"zoom\").innerText\n\n// Layers tipo KML \nvar vector_kml = new VectorLayer({\n  source: new VectorSource({\n    // url: kml_path,\n    url: 'uploads/kml/bidegorris.kml',\n    format: new KML(),\n  }),\n});\n\n// Layers tipo GPX \nvar sourceGPX = new VectorSource({\n  wrapX: false,\n  //TOFIX hay que parsear primero el GPX para pasarlo a JSON\n  features: new GPX().readFeatures(gpx_files.innerText)\n});\n\nvar vector_gpx = new VectorLayer({\n  source: sourceGPX,\n  style: function (feature) {\n    return style[feature.getGeometry().getType()];\n  },\n});\n\n// Layers tipo GPX con url \nvar vector_url = new VectorLayer({\n  source: new VectorSource({\n    //url: gpx_paths[0],\n    url: 'uploads/gpx/diego.gpx',\n    format: new GPX(),\n  }),\n});\n\n// Mapa\nvar map = new Map({\n  layers: [raster, vector_gpx, vector_url, vector_kml],\n  target: document.getElementById('map'),\n  view: new View({\n    // Esta función comentada no cambia la proyección pero nos permite fijar el centro con lonlat\n    center: fromLonLat([centerLon, centerLat]),\n    // center: [centerLon,centerLat],\n    // projection: 'EPSG:4326',\n    // https://stackoverflow.com/questions/58107691/openlayers-map-center-issue\n    zoom: zoom,\n  }),\n});\n\nvar displayFeatureInfo = function (pixel) {\n  var features = [];\n  map.forEachFeatureAtPixel(pixel, function (feature) {\n    features.push(feature);\n  });\n  if (features.length > 0) {\n    var info = [];\n    var i, ii;\n    for (i = 0, ii = features.length; i < ii; ++i) {\n      info.push(features[i].get('name'));\n    }\n    document.getElementById('info').innerHTML = info.join(', ') || '(unknown)';\n    map.getTarget().style.cursor = 'pointer';\n  } else {\n    document.getElementById('info').innerHTML = '&nbsp;';\n    map.getTarget().style.cursor = '';\n  }\n  var loc = window.location.pathname;\n  console.log(loc);\n};\n\n// Funciones\n// Centrar Mapa https://gis.stackexchange.com/questions/112892/change-openlayers-3-view-center\nfunction CenterMap(long, lati) {\n  console.log(\"Long: \" + long + \" Lat: \" + lati);\n  map.getView().setCenter(fromLonLat([long, lati]));\n  map.getView().setZoom(13);\n}\n\n// EVENTOS del mapa\n// Drag\nmap.on('pointermove', function (evt) {\n  if (evt.dragging) {\n    return;\n  }\n  var pixel = map.getEventPixel(evt.originalEvent);\n  displayFeatureInfo(pixel);\n});\n// Click\nmap.on('click', function (evt) {\n  displayFeatureInfo(evt.pixel);\n  // Centramos mapa\n  // TODO que esta llamada a CenterMap() esté en un botón a parte\n  CenterMap(centerLon, centerLat)\n  // Zona DEBUGGING \n  console.log(sourceGPX.getFeatures());\n  console.log(sourceGPX.forEachFeature())\n  console.log(gpx_files.innerText)\n  console.log(kml_path.innerText)\n  console.log(kml_path)\n});\n\n"},"lineCount":null}},"error":null,"hash":"ef765ede08779597ddd27b54b029a3e7","cacheData":{"env":{}}}